<mat-card>
  <mat-card-title>Profile</mat-card-title>
  <div *ngIf="user">
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Username:</strong> {{ user.displayName }}</p>
    <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
      <mat-form-field appearance="fill">
        <mat-label>New Password</mat-label>
        <input matInput type="password" formControlName="newPassword" required>
      </mat-form-field>
      <button mat-raised-button color="primary" type="submit" [disabled]="!passwordForm.valid">Change Password</button>
    </form>
    <div *ngIf="passwordChanged" style="color:green; margin-top:8px;">Password changed!</div>
    <button mat-button color="warn" (click)="logout()">Logout</button>
  </div>
  <div *ngIf="!user">
    <p>You are not logged in.</p>
  </div>
</mat-card>